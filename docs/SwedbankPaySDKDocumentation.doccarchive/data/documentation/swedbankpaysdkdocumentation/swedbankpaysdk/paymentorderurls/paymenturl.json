{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentUrl"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" is used to get back to the payment menu after some third-party process"},{"type":"text","text":" "},{"type":"text","text":"related to the payment is completed. As long as the process stays within the SDK controlled"},{"type":"text","text":" "},{"type":"text","text":"WebView, we can intercept the navigation, like "},{"type":"codeVoice","code":"completeUrl"},{"type":"text","text":" , and reload the payment menu."},{"type":"text","text":" "},{"type":"text","text":"However, because those processes may involve opening other applications, we must also be"},{"type":"text","text":" "},{"type":"text","text":"prepared for "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" being opened from those third-party applications. In particular,"},{"type":"text","text":" "},{"type":"text","text":"we must be prepared for "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" being opened in Safari."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The have "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" handed over to the SDK, it must be a Universal Link registered to your"},{"type":"text","text":" "},{"type":"text","text":"application. With Univeral Links correctly configured, the "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" should be routed"},{"type":"text","text":" "},{"type":"text","text":"to your application, and you will receive it in your"},{"type":"text","text":" "},{"type":"codeVoice","code":"UIApplicationDelegate.application(_:continue:restorationHandler:)"},{"type":"text","text":" method. From there,"},{"type":"text","text":" "},{"type":"text","text":"you must forward it to the SDK by calling "},{"type":"codeVoice","code":"SwedbankPaySDK.continue(userActivity:)"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In some cases the "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" will be opened in Safari instead, despite correct"},{"type":"text","text":" "},{"type":"text","text":"Universal Links configuration. To handle this situation you have the option of"},{"type":"text","text":" "},{"type":"text","text":"attempting to retrigger the Univeral Links routing by redirecting the from "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" "},{"type":"text","text":"to a different domain, with a link back to "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":". Please refer to the documentation"},{"type":"text","text":" "},{"type":"text","text":"in the Swedbank Pay Developer Portal for further discussion of the mechanics involved."},{"type":"text","text":" "},{"type":"text","text":"To facilitate the backend part of this system, the SDK will also accept URLs that"},{"type":"text","text":" "},{"type":"text","text":"have additional query parameters added to the original "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"As a final fallback, you may invoke a URL with a custom scheme registered to your"},{"type":"text","text":" "},{"type":"text","text":"application. In addition to changing the scheme, that URL may also add query parameters,"},{"type":"text","text":" "},{"type":"text","text":"but should be otherwise equal to the original "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":". When you receive such a URL"},{"type":"text","text":" "},{"type":"text","text":"in your "},{"type":"codeVoice","code":"UIApplicationDelegate.application(_:open:options:)"},{"type":"text","text":" method, forward it to"},{"type":"text","text":" "},{"type":"text","text":"the SDK by calling "},{"type":"codeVoice","code":"SwedbankPaySDK.open(url:)"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For advanced use-cases, you can customize the URL-matching behaviour described above"},{"type":"text","text":" "},{"type":"text","text":"in your "},{"type":"codeVoice","code":"SwedbankPayConfiguration."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Each "},{"type":"codeVoice","code":"paymentUrl"},{"type":"text","text":" you create should be unique inside your application."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/swedbankpaysdkdocumentation\/swedbankpaysdk\/paymentorderurls\/paymenturl"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation\/SwedbankPaySDK\/PaymentOrderUrls\/paymentUrl","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A URL that will be navigated to when the payment menu needs to be reloaded."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentUrl"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?"}],"title":"paymentUrl","roleHeading":"Instance Property","role":"symbol","symbolKind":"property","externalID":"s:27SwedbankPaySDKDocumentation0aB3SDKC16PaymentOrderUrlsV10paymentUrl10Foundation3URLVSgvp","modules":[{"name":"SwedbankPaySDKDocumentation"}]},"hierarchy":{"paths":[["doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation","doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation\/SwedbankPaySDK","doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation\/SwedbankPaySDK\/PaymentOrderUrls"]]},"references":{"doc://com.swedbank.SwedbankPaySDK/documentation/SwedbankPaySDKDocumentation/SwedbankPaySDK/PaymentOrderUrls/paymentUrl":{"role":"symbol","title":"paymentUrl","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"paymentUrl"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URL","preciseIdentifier":"s:10Foundation3URLV"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"A URL that will be navigated to when the payment menu needs to be reloaded."}],"identifier":"doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation\/SwedbankPaySDK\/PaymentOrderUrls\/paymentUrl","kind":"symbol","type":"topic","url":"\/documentation\/swedbankpaysdkdocumentation\/swedbankpaysdk\/paymentorderurls\/paymenturl"},"doc://com.swedbank.SwedbankPaySDK/documentation/SwedbankPaySDKDocumentation/SwedbankPaySDK/PaymentOrderUrls":{"role":"symbol","title":"SwedbankPaySDK.PaymentOrderUrls","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"PaymentOrderUrls"}],"abstract":[{"type":"text","text":"A set of URLs relevant to a payment order."}],"identifier":"doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation\/SwedbankPaySDK\/PaymentOrderUrls","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PaymentOrderUrls"}],"url":"\/documentation\/swedbankpaysdkdocumentation\/swedbankpaysdk\/paymentorderurls"},"doc://com.swedbank.SwedbankPaySDK/documentation/SwedbankPaySDKDocumentation":{"role":"collection","title":"SwedbankPaySDKDocumentation","abstract":[],"identifier":"doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation","kind":"symbol","type":"topic","url":"\/documentation\/swedbankpaysdkdocumentation"},"doc://com.swedbank.SwedbankPaySDK/documentation/SwedbankPaySDKDocumentation/SwedbankPaySDK":{"role":"symbol","title":"SwedbankPaySDK","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SwedbankPaySDK"}],"abstract":[{"type":"text","text":"Class defining data types exposed to the client app using the SDK"}],"identifier":"doc:\/\/com.swedbank.SwedbankPaySDK\/documentation\/SwedbankPaySDKDocumentation\/SwedbankPaySDK","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"SwedbankPaySDK"}],"url":"\/documentation\/swedbankpaysdkdocumentation\/swedbankpaysdk"}}}